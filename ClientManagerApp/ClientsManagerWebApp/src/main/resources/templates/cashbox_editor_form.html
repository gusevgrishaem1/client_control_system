<!DOCTYPE html>
<html lang= "ru">

  <head>
    <meta charset="utf-8" />
    <title>Редактор кассы</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link th:href="@{/main.css}" type ="text/css" rel="stylesheet">
  </head>

  <body>

<div class ="wrapper">
<header class ="header">
	<div class ="container">
    <nav class="navbar navbar-expand-lg navbar-light bg-light navbar-myclass">
      <div class="container-xxl">
        <a class="navbar-brand">Клиенты ОФД</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a class="nav-link " aria-current="page" th:href="@{/clients}">Клиенты</a>
            <a class="nav-link " th:href="@{/fiscalMemories}">Контроль ФН</a>
            <a class="nav-link " th:href="@{/fiscalDataOperatorAgreements}">Контроль ОФД</a>
            <a class="nav-link " th:href="@{/directories}">Справочники</a>
          </div>
        </div>
      </div>
    </nav>
    </div>
    </header>
<section class = "cashbox-edit-form">
    <div class="container">
      <div class="row">
        <div class="col">
          <form action = "#" th:action = "@{/clients/clientEditor/{idClient}/cashboxEditor/{idCashbox}/saveCashbox(idClient = ${idClient}, idCashbox = ${cashbox.id})}" th:object="${cashbox}" method= "POST" class = "form-myclass">
            <h1>Касса</h1>
            <input type="hidden" th:field="*{id}">
            <input type="hidden" th:field="*{client}">
            <div class="form-group">
              <label for="CashboxFactoryNumber">Заводской номер</label>
              <input type="text" required class="form-control" id="CashboxFactoryNumber" th:field = "*{factoryNumber}">
            </div>
            <div class="form-group">
              <label for="CashboxModel">Модель</label>
               <select type = "text" id="CashboxModel" class="form-control" th:field = "*{cashboxModel}">
                <option th:each="cashboxModel : ${listCashboxModels}" th:value = "${cashboxModel.id}" th:text = "${cashboxModel.name}"></option>
              </select>
            </div>
            <div class="form-group">
              <label for="TaxationSystem">Система налогообложения</label>
              <select type = "text" id="TaxationSystem" class="form-control" th:field = "*{taxationSystem}">
                <option th:each="taxationSystem : ${listTaxationSystems}" th:value = "${taxationSystem.id}" th:text = "${taxationSystem.name}"></option>
              </select>
            </div>
            <div class="form-group">
              <label for="CashboxRegistrationNumber">Регистрационный номер</label>
              <input type="text" required class="form-control" id="CashboxRegistrationNumber" th:field = "*{registrationNumber}">
            </div>
            <div class="form-group">
              <label for="CashboxInstallationAddress">Адрес установки</label>
              <textarea type="text" required class="form-control" id="CashboxInstallationAddress" th:field = "*{installationAddress}"></textarea>
            </div>
            <div class="form-buttons">
            <button class="btn btn-primary" type="submit">Сохранить</button>
            <a class="btn btn-primary" th:href = "@{/clients/clientEditor/{idClient}(idClient = ${idClient})}">Отмена</a>
          </div>
          </form>
        </div>
        <div class="col">
          <form th:if="${fiscalDataOperatorAgreement}" th:object="${fiscalDataOperatorAgreement}" th:action="@{/clients/clientEditor/{idClient}/cashboxEditor/{idCashbox}/fiscalDataOperatorAgreementEditor (idClient = ${idClient}, idCashbox = ${idCashbox})}"  method = "GET" class = "form-myclass">
          <h1>ОФД</h1>
            <input type="hidden" th:field="*{id}">
             <input type="hidden" th:field="*{cashbox}">
          <div class="form-group">
            <label for="FiscalDataOperator">Наименование организации</label>
               <input type="text" readonly class="form-control" id="FiscalDataOperator" th:field = "*{fiscalDataOperator.name}">
          </div>
          <div class="form-group">
				<label for="FiscalDataOperatorAgreementValidity">Срок действия, дней</label>
			<input type="number" readonly class="form-control"  id="FiscalDataOperatorAgreementValidity" min="0" max="10000" th:field="*{validity}">
          </div>
          <div class="form-group">
            <label for="FiscalDataOperatorAgreementActivationDate">Дата активации</label>
            <input type="date"  readonly class="form-control" id = "FiscalDataOperatorAgreementActivationDate" th:field="*{activationDate}">
          </div>
          <div class="form-group">
            <label for="FiscalDataOperatorAgreementDeactivationDate">Дата окончания</label>
            <input type="date" readonly class="form-control"  id = "FiscalDataOperatorAgreementDeactivationDate" th:field="*{deactivationDate}">
          </div>
          <button class="btn btn-primary" type="submit" >Редактировать</button>
          </form>
          <form th:unless="${fiscalDataOperatorAgreement}" class = "form-myclass">
          <h1 class="h1-myclass">ОФД</h1>
          <p class="alert alert-danger" th:if="${error != null}" th:text="${error}"></p>
          <form th:unless="${error != null}">
          <div class="form-buttons-create">
          <a class="btn btn-primary" th:href="@{/clients/clientEditor/{idClient}/cashboxEditor/{idCashbox}/fiscalDataOperatorAgreementAddition (idClient = ${idClient}, idCashbox = ${idCashbox})}">Добавить информацию</a>
        </div>
        </form>
        </form>
        </div>
        <div class="col">
        <form action = "#" th:if="${fiscalMemory}" th:object="${fiscalMemory}" th:action="@{/clients/clientEditor/{idClient}/cashboxEditor/{idCashbox}/fiscalMemoryEditor (idClient = ${idClient}, idCashbox = ${idCashbox})}"  method = "GET" class = "form-myclass">
          <h1>ФН</h1>
          <input type="hidden" th:field="*{id}">
          <input type="hidden" th:field="*{cashbox}">
          <div class="form-group">
            <label for="FiscalMemoryFactoryNumber">Заводской номер</label>
            <input type="text" readonly class="form-control" id="FiscalMemoryFactoryNumber" th:field="*{factoryNumber}">
          </div>
                <div class="form-group">
            <label for="FiscalMemoryType">Тип</label>
            <input type="text" readonly class="form-control" id="FiscalMemoryType" th:field="*{type}">
          </div>
          <div class="form-group">
				<label for="FiscalMemoryValidity">Срок действия, дней</label>
			<input type="number" readonly class="form-control"  id="FiscalMemoryValidity" min="0" max="10000" th:field="*{validity}">
          </div>
          <div class="form-group">
            <label for="FiscalMemoryActivationDate">Дата активации</label>
            <input type="date" readonly class="form-control" id ="FiscalMemoryActivationDate" th:field="*{activationDate}">
          </div>
          <div class="form-group">
            <label for="FiscalMemoryDeactivationDate">Дата блокировки</label>
            <input readonly = "true" type="date"  class="form-control" id ="FiscalMemoryDeactivationDate" th:field="*{deactivationDate}">
          </div>
          <button class="btn btn-primary"  type="submit">Редактировать</button>
          </form>
           <form th:unless="${fiscalMemory}" class = "form-myclass">
          <h1 class="h1-myclass">ФН</h1>
          <div class="form-buttons-create">
          <a class="btn btn-primary" th:href="@{/clients/clientEditor/{idClient}/cashboxEditor/{idCashbox}/fiscalMemoryAddition (idClient = ${idClient}, idCashbox = ${idCashbox})}">Добавить информацию</a>
        </div>
        </form>
        </div>
        <div class="col">
        <form th:if="${firmware}" th:object="${firmware}" th:action="@{/clients/clientEditor/{idClient}/cashboxEditor/{idCashbox}/firmwareEditor (idClient = ${idClient}, idCashbox = ${idCashbox})}" method = "GET" class = "form-myclass">
          <h1>Прошивка</h1>
          <input type="hidden" th:field="*{id}">
          <input type="hidden" th:field="*{cashbox}">
          <div class="form-group">
            <label for="FirmwareDate">Дата прошивки</label>
            <input type="date"  readonly class="form-control" id ="FirmwareDate" th:field="*{installationDate}">
          </div>
          <div class="form-group">
            <label for="FirmwareVersion">Версия</label>
            <input type="text" readonly class="form-control" id="FirmwareVersion" th:field="*{version}">
         </div>
          <button class="btn btn-primary" type = "submit">Редактировать</button>
          </form>
          <form th:unless="${firmware}" class = "form-myclass">
          <h1 class="h1-myclass">Прошивка</h1>
          <div class="form-buttons-create">
          <a class="btn btn-primary" th:href="@{/clients/clientEditor/{idClient}/cashboxEditor/{idCashbox}/firmwareAddition (idClient = ${idClient}, idCashbox = ${idCashbox})}">Добавить информацию</a>
        </div>
        </form>
        </div>
      </div>
    </div>
  </section>
  </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
    </script>
  </body>
</html>